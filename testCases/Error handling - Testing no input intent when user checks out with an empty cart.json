{
  "name": "c67bca08-f4fa-4d91-9696-3aecb8079c7e",
  "tags": [ "#noinput", "#purchase", "#agentredirect" ],
  "displayName": "Error handling - Testing no input intent when user checks out with an empty cart",
  "testCaseConversationTurns": [ {
    "userInput": {
      "isWebhookEnabled": true,
      "input": {
        "text": {
          "text": "Need help buying something"
        },
        "languageCode": "en"
      }
    },
    "virtualAgentOutput": {
      "sessionParameters": {
        "has_welcomed_user": true,
        "is_returning": true,
        "operation": "Purchase Item",
        "operation_complete": false
      },
      "triggeredIntent": {
        "name": "retail.purchase_item_initiate"
      },
      "currentPage": {
        "name": "Check Login",
        "flow": "Purchase Item Flow"
      },
      "textResponses": [ {
        "text": [ "Of course, I am happy to assist with that. Would you like to login or continue as a guest?" ]
      } ],
      "currentFlow": {
        "name": "Purchase Item Flow"
      }
    }
  }, {
    "userInput": {
      "isWebhookEnabled": true,
      "input": {
        "text": {
          "text": "Guest please"
        },
        "languageCode": "en"
      }
    },
    "virtualAgentOutput": {
      "sessionParameters": {
        "has_welcomed_user": true,
        "is_logged_in": false,
        "is_returning": true,
        "operation": "Purchase Item",
        "operation_complete": false
      },
      "triggeredIntent": {
        "name": "small_talk.confirmation.proceed_as_guest"
      },
      "currentPage": {
        "name": "Add to Cart",
        "flow": "Purchase Item Flow"
      },
      "textResponses": [ {
        "text": [ "What would you like to buy?" ]
      } ],
      "currentFlow": {
        "name": "Purchase Item Flow"
      }
    }
  }, {
    "userInput": {
      "isWebhookEnabled": true,
      "input": {
        "text": {
          "text": "I am ready to checkout"
        },
        "languageCode": "en"
      }
    },
    "virtualAgentOutput": {
      "sessionParameters": {
        "has_welcomed_user": true,
        "is_logged_in": false,
        "is_returning": true,
        "operation": "Purchase Item",
        "operation_complete": false
      },
      "triggeredIntent": {
        "name": "small_talk.confirmation.ready_to_checkout"
      },
      "currentPage": {
        "name": "Confirm No Purchase",
        "flow": "Purchase Item Flow"
      },
      "textResponses": [ {
        "text": [ "I noticed that your cart is empty. Would you like to purchase something today?" ]
      } ],
      "currentFlow": {
        "name": "Purchase Item Flow"
      }
    }
  }, {
    "userInput": {
      "isWebhookEnabled": true,
      "input": {
        "text": {
        
        },
        "languageCode": "en"
      }
    },
    "virtualAgentOutput": {
      "sessionParameters": {
        "has_welcomed_user": true,
        "is_logged_in": false,
        "is_returning": true,
        "operation": "Purchase Item",
        "operation_complete": false
      },
      "currentPage": {
        "name": "Confirm No Purchase",
        "flow": "Purchase Item Flow"
      },
      "textResponses": [ {
        "text": [ "Sorry, I am unable to hear you. Is there anything you wanted to purchase today?" ]
      } ],
      "currentFlow": {
        "name": "Purchase Item Flow"
      }
    }
  }, {
    "userInput": {
      "isWebhookEnabled": true,
      "input": {
        "text": {
        
        },
        "languageCode": "en"
      }
    },
    "virtualAgentOutput": {
      "sessionParameters": {
        "has_welcomed_user": true,
        "is_logged_in": false,
        "is_returning": true,
        "operation": "Purchase Item",
        "operation_complete": false
      },
      "currentPage": {
        "name": "Confirm No Purchase",
        "flow": "Purchase Item Flow"
      },
      "textResponses": [ {
        "text": [ "Sorry, I could not hear you. Is there anything you want to buy today?" ]
      } ],
      "currentFlow": {
        "name": "Purchase Item Flow"
      }
    }
  }, {
    "userInput": {
      "isWebhookEnabled": true,
      "input": {
        "text": {
        
        },
        "languageCode": "en"
      }
    },
    "virtualAgentOutput": {
      "sessionParameters": {
        "has_welcomed_user": true,
        "is_logged_in": false,
        "is_returning": true,
        "operation": "Purchase Item",
        "operation_complete": false
      },
      "currentPage": {
        "name": "End Session",
        "flow": "Agent Redirect Flow"
      },
      "textResponses": [ {
        "text": [ "Sorry I was not able to hear you." ]
      }, {
        "text": [ "Please wait a moment while I transfer you to one of our agents." ]
      } ],
      "currentFlow": {
        "name": "Agent Redirect Flow"
      }
    }
  } ],
  "creationTime": {
    "seconds": 1607546124,
    "nanos": 968419000
  }
}
