{
  "name": "19847b02-5dbd-4872-a4c4-33efa082b5dc",
  "tags": [ "#nomatch", "#search" ],
  "displayName": "Error handling - No match when requesting zip code while searching for store",
  "notes": "This test case searches for a nearby store and provides a street address. When prompted for a zip code, the test case sends an invalid zip code, triggering a \"no match\" event.",
  "testCaseConversationTurns": [ {
    "userInput": {
      "isWebhookEnabled": true,
      "input": {
        "text": {
          "text": "Hello"
        },
        "languageCode": "en"
      }
    },
    "virtualAgentOutput": {
      "triggeredIntent": {
        "name": "Default Welcome Intent"
      },
      "currentPage": {
        "name": "Main Menu",
        "flow": "Default Start Flow"
      },
      "textResponses": [ {
        "text": [ "Greetings! How can I assist?" ]
      } ],
      "currentFlow": {
        "name": "Default Start Flow"
      }
    }
  }, {
    "userInput": {
      "isWebhookEnabled": true,
      "input": {
        "text": {
          "text": "Where's the nearest store"
        },
        "languageCode": "en"
      }
    },
    "virtualAgentOutput": {
      "sessionParameters": {
        "is_returning": true,
        "operation": "Search Store"
      },
      "triggeredIntent": {
        "name": "retail.nearest_store_initiate"
      },
      "currentPage": {
        "name": "Request User Location",
        "flow": "Address Collection Flow"
      },
      "textResponses": [ {
        "text": [ "Let me look that up for you." ]
      }, {
        "text": [ "Can I get your street address?" ]
      } ],
      "currentFlow": {
        "name": "Address Collection Flow"
      }
    }
  }, {
    "userInput": {
      "isWebhookEnabled": true,
      "input": {
        "text": {
          "text": "100 main street"
        },
        "languageCode": "en"
      }
    },
    "virtualAgentOutput": {
      "sessionParameters": {
        "is_returning": true,
        "location": {
          "original": "100 main street",
          "street-address": "100 main street"
        },
        "operation": "Search Store"
      },
      "currentPage": {
        "name": "Request Zip Code",
        "flow": "Address Collection Flow"
      },
      "textResponses": [ {
        "text": [ "What's your zip code? You can say it out loud or type it in." ]
      } ],
      "currentFlow": {
        "name": "Address Collection Flow"
      }
    }
  }, {
    "userInput": {
      "isWebhookEnabled": true,
      "input": {
        "text": {
          "text": "blah"
        },
        "languageCode": "en"
      }
    },
    "virtualAgentOutput": {
      "sessionParameters": {
        "is_returning": true,
        "location": {
          "original": "100 main street",
          "street-address": "100 main street"
        },
        "operation": "Search Store"
      },
      "currentPage": {
        "name": "Request Zip Code",
        "flow": "Address Collection Flow"
      },
      "textResponses": [ {
        "text": [ "I'm sorry, I didn't understand. May I have your zip code?" ]
      } ],
      "currentFlow": {
        "name": "Address Collection Flow"
      }
    }
  } ],
  "creationTime": {
    "seconds": 1606688701,
    "nanos": 375291000
  }
}
